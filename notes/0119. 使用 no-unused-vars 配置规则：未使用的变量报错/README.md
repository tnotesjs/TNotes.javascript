# [0119. ä½¿ç”¨ no-unused-vars é…ç½®è§„åˆ™ï¼šæœªä½¿ç”¨çš„å˜é‡æŠ¥é”™](https://github.com/Tdahuyou/TNotes.html-css-js/tree/main/notes/0119.%20%E4%BD%BF%E7%94%A8%20no-unused-vars%20%E9%85%8D%E7%BD%AE%E8%A7%84%E5%88%99%EF%BC%9A%E6%9C%AA%E4%BD%BF%E7%94%A8%E7%9A%84%E5%8F%98%E9%87%8F%E6%8A%A5%E9%94%99)

<!-- region:toc -->
- [1. ğŸ”— eslint å®˜æ–¹æ–‡æ¡£ > no-unused-vars](#1--eslint-å®˜æ–¹æ–‡æ¡£--no-unused-vars)
- [2. ğŸ“’ `no-unused-vars` ç®€ä»‹](#2--no-unused-vars-ç®€ä»‹)
- [3. ğŸ’» demo - `'no-unused-vars': 'error'`](#3--demo---no-unused-vars-error)
- [4. ğŸ“’ å¿½ç•¥æ¨¡å¼æ¦‚è¿°](#4--å¿½ç•¥æ¨¡å¼æ¦‚è¿°)
<!-- endregion:toc -->

## 1. ğŸ”— eslint å®˜æ–¹æ–‡æ¡£ > no-unused-vars

- https://eslint.org/docs/latest/rules/no-unused-vars

## 2. ğŸ“’ `no-unused-vars` ç®€ä»‹

- `no-unused-vars` ç”¨äºæ£€æµ‹ä»£ç ä¸­æœªä½¿ç”¨çš„å˜é‡ã€å‡½æ•°å‚æ•°æˆ–å¯¼å…¥çš„æ¨¡å—ã€‚
- é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯¹äºä¸€ä¸ªæ¨¡å—ä¸­æœªä½¿ç”¨çš„å˜é‡ï¼Œç¨‹åºä¸­æ˜¯ä¸ä¼šæŠ¥é”™çš„ã€‚
- æœªè¢«ä½¿ç”¨çš„å˜é‡å¯¹ç¨‹åºçš„é€»è¾‘å¹¶ä¸ä¼šé€ æˆå½±å“ï¼Œå¹¶ä¸”è¿™äº›å˜é‡åœ¨åç»­å¯èƒ½ä¼šè¢«ç”¨åˆ°ã€‚å› æ­¤åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶å€™ä¼šåˆ»æ„å°† `no-unused-vars` é…ç½®ç»™å…³é—­æ‰ï¼Œè®©æœªä½¿ç”¨çš„å˜é‡ä¿ç•™ä¸‹æ¥ï¼Œä»¥ä¾¿åç»­ä½¿ç”¨ã€‚
  - è¡¥å……ï¼šè™½ç„¶åœ¨å¼€å‘è¿‡ç¨‹ä¸­è¿™äº›æœªè¢«ä½¿ç”¨çš„å˜é‡è¢«ä¿ç•™ä¸‹æ¥ï¼Œä½†æ˜¯è¿™äº›å˜é‡åœ¨æ‰“åŒ…æ„å»ºåæ˜¯ä¼šè¢«æ„å»ºå·¥å…·ç»™è‡ªåŠ¨ç§»é™¤æ‰çš„ï¼Œåœ¨æœ€ç»ˆçš„æ‰“åŒ…äº§ç‰©ä¸­æ˜¯ä¸å­˜åœ¨çš„ï¼Œå› æ­¤æ— éœ€æ‹…å¿ƒå®ƒä»¬å¯¹æ‰“åŒ…ç»“æœé€ æˆå½±å“ã€‚
- å¦‚æœæƒ³è¦ç¡®ä¿ç¨‹åºä¸­ä¸å­˜åœ¨æœªä½¿ç”¨çš„å˜é‡ï¼Œå¯ä»¥é€šè¿‡ `no-unused-vars` è§„åˆ™æ¥æ£€æµ‹å¹¶æŠ¥é”™æç¤ºï¼Œç„¶åå†å°†è¿™äº›æç¤ºçš„å˜é‡å¤„ç†æ‰ã€‚

## 3. ğŸ’» demo - `'no-unused-vars': 'error'`

```js
module.exports = {
    rules: {
        'no-unused-vars': 'error'
    }
}
```

- `'no-unused-vars': 'error'` è¡¨ç¤ºå¯ç”¨ `no-unused-vars` è§„åˆ™ï¼Œå¹¶è®¾ç½®ä¸ºé”™è¯¯çº§åˆ«ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœä»£ç ä¸­å‡ºç°æœªä½¿ç”¨çš„å˜é‡ï¼ŒESLint å°†ä¼šæŠ¥å‡ºè­¦å‘Šæˆ–é”™è¯¯ã€‚
- ä¸‹é¢æ˜¯ä¸€ä¸ªæŠ¥é”™çš„ä¾‹å­ï¼š
  - ![](assets/2024-09-29-13-03-19.png)
- é™¤äº† `error` è¿˜å¯ä»¥é…ç½®ä¸º  `warn` å¦‚æœè®¾ç½®ä¸º `'no-unused-vars': 'error'`ï¼Œåˆ™ä¼šåœ¨é”™è¯¯çš„ä½ç½®é€šè¿‡é»„è‰²çš„ä¸‹åˆ’çº¿æ¥è­¦å‘Šå‡ºé”™ã€‚
  - ![](assets/2024-11-28-17-33-23.png)

## 4. ğŸ“’ å¿½ç•¥æ¨¡å¼æ¦‚è¿°

```javascript
// å¦‚æœä½ å¸Œæœ›å¿½ç•¥æŸäº›ç‰¹å®šçš„å˜é‡åæˆ–æ¨¡å¼ï¼Œå¯ä»¥ä½¿ç”¨ varsIgnorePattern å’Œ argsIgnorePattern é€‰é¡¹ï¼š
module.exports = {
  rules: {
    'no-unused-vars': ['error', { varsIgnorePattern: '^_', argsIgnorePattern: '^_' }]
    // æ‰€æœ‰ä»¥ _ å¼€å¤´çš„å˜é‡å’Œå‡½æ•°å‚æ•°å°†è¢«å¿½ç•¥ï¼Œä¸ä¼šè§¦å‘ no-unused-vars é”™è¯¯ã€‚
  }
};
```


å‡è®¾ä½ æœ‰å¦‚ä¸‹ JavaScript ä»£ç ï¼š

```javascript
function example(a, b) {
  console.log(a);
}

const unusedVar = 42;
```

å¦‚æœæ²¡æœ‰é…ç½® `no-unused-vars` è§„åˆ™ï¼Œè¿™æ®µä»£ç ä¼šè¢«è®¤ä¸ºæ˜¯æœ‰æ•ˆçš„ã€‚ä½†æ˜¯ï¼Œå½“ä½ å¯ç”¨äº† `no-unused-vars` è§„åˆ™åï¼ŒESLint ä¼šæŠ¥å‘Š `b` å’Œ `unusedVar` æœªè¢«ä½¿ç”¨ã€‚

å¦‚æœä½ æƒ³è¦å¿½ç•¥ä»¥ `_` å¼€å¤´çš„å˜é‡ï¼Œå¯ä»¥é…ç½®å¦‚ä¸‹ï¼š

```javascript
module.exports = {
  rules: {
    'no-unused-vars': ['error', { argsIgnorePattern: '^_', varsIgnorePattern: '^_' }]
  }
};
```

ç„¶åä¿®æ”¹ä»£ç ï¼š

```javascript
function example(_a, _b) {
  console.log(_a);
}

const _unusedVar = 42;
```

æ­¤æ—¶ï¼ŒESLint å°†ä¸ä¼šæŠ¥å‘Š `_b` å’Œ `_unusedVar` æœªè¢«ä½¿ç”¨ã€‚

é€šè¿‡è¿™æ ·çš„é…ç½®ï¼Œä½ å¯ä»¥æ ¹æ®é¡¹ç›®çš„å…·ä½“éœ€æ±‚çµæ´»åœ°åº”ç”¨ `no-unused-vars` è§„åˆ™ã€‚

---

```javascript
// å¿½ç•¥å‡½æ•°å‚æ•°
// æœ‰æ—¶å€™ä½ å¯èƒ½éœ€è¦ä¿ç•™ä¸€äº›å‡½æ•°å‚æ•°ï¼Œå³ä½¿å®ƒä»¬æ²¡æœ‰è¢«ä½¿ç”¨ï¼Œæ¯”å¦‚å›è°ƒå‡½æ•°ä¸­çš„é»˜è®¤å‚æ•°ã€‚ä½ å¯ä»¥é€šè¿‡è®¾ç½® args é€‰é¡¹æ¥è°ƒæ•´è¿™ä¸€ç‚¹ï¼š
module.exports = {
  rules: {
    'no-unused-vars': ['error', { args: 'none' }]
    // è¿™ä¼šç¦ç”¨å¯¹å‡½æ•°å‚æ•°çš„æ£€æŸ¥ã€‚
  }
};
```

```javascript
// æ£€æŸ¥å·²è§£æ„çš„å˜é‡
// é»˜è®¤æƒ…å†µä¸‹ï¼Œno-unused-vars ä¸ä¼šæ£€æŸ¥è§£æ„èµ‹å€¼ä¸­çš„æœªä½¿ç”¨å˜é‡ã€‚
// å¦‚æœä½ æƒ³å¯ç”¨è¿™é¡¹æ£€æŸ¥ï¼Œå¯ä»¥è®¾ç½® destructuredArrayIgnorePattern å’Œ ignoreRestSiblings é€‰é¡¹ï¼š
module.exports = {
  rules: {
    'no-unused-vars': ['error', { destructuredArrayIgnorePattern: '^_' }]
    // é™¤äº†é‚£äº›åŒ¹é…æ¨¡å¼çš„è§£æ„å˜é‡å¤–ï¼Œå…¶ä»–æœªä½¿ç”¨çš„è§£æ„å˜é‡éƒ½ä¼šè§¦å‘é”™è¯¯ã€‚
  }
};
```

```javascript
// å¿½ç•¥å¯¼å‡ºçš„å˜é‡
// æœ‰æ—¶ä½ å¯èƒ½éœ€è¦å¯¼å‡ºä¸€äº›å˜é‡ï¼Œå³ä½¿å®ƒä»¬åœ¨å½“å‰æ–‡ä»¶ä¸­æ²¡æœ‰è¢«ä½¿ç”¨ã€‚ä½ å¯ä»¥é€šè¿‡è®¾ç½® vars é€‰é¡¹æ¥è°ƒæ•´è¿™ä¸€ç‚¹ï¼š
module.exports = {
  rules: {
    'no-unused-vars': ['error', { vars: 'local' }]
    // è¿™ä¼šåªæ£€æŸ¥å±€éƒ¨å˜é‡ï¼Œè€Œå¿½ç•¥å…¨å±€å˜é‡å’Œå¯¼å‡ºçš„å˜é‡ã€‚
  }
};
```
